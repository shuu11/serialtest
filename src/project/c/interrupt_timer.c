//----------------------------------------------------------------------
//  pragma
//----------------------------------------------------------------------

//----------------------------------------------------------------------
//  include
//----------------------------------------------------------------------
#include <string.h>

#include "r_cg_macrodriver.h"

#include "myproj.h"
#include "extern.h"

//----------------------------------------------------------------------
//  static variable
//----------------------------------------------------------------------
static WORD timerCnt[mTIMER_EVE_MAX];

//----------------------------------------------------------------------
//  static const
//----------------------------------------------------------------------
static const WORD timerTable[mTIMER_EVE_MAX] = {
		1,	 //	1ms
		10,	 //	10ms
		100, //	100ms
		500, //	500ms
};

//----------------------------------------------------------------------
//  function
//----------------------------------------------------------------------
void interrupt_timer(void) //	タイマ割り込み
{
	BYTE i;

	for (i = 0; i < mTIMER_EVE_MAX; i++)
	{
		timerCnt[i]++;

		if (timerCnt[i] >= timerTable[i])
		{
			timerCnt[i] = 0;
			g_timer |= 0x0001 << i;
		}
	}
}

/************************************************************************/
/*  END OF FILE																													*/
/************************************************************************/