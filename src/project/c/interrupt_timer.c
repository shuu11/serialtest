//----------------------------------------------------------------------
//  pragma
//----------------------------------------------------------------------

//----------------------------------------------------------------------
//  include
//----------------------------------------------------------------------
#include <string.h>

#include "r_cg_macrodriver.h"

#include "myproj.h"
#include "extern.h"

#define mTIMER_MAX 4

//----------------------------------------------------------------------
//  static variable
//----------------------------------------------------------------------
static WORD timerCnt[mTIMER_MAX];

//----------------------------------------------------------------------
//  static const
//----------------------------------------------------------------------
static const WORD timerTable[mTIMER_MAX] = {
		1,
		10,
		100,
		500,
};

//----------------------------------------------------------------------
//  function
//----------------------------------------------------------------------
void interrupt_timer(void)
{
	BYTE i;

	for (i = 0; i < mTIMER_MAX; i++)
	{
		timerCnt[i]++;

		if (timerCnt[i] >= timerTable[i])
		{
			timerCnt[i] = 0;
			g_timer |= 0x0001 << i;
		}
	}
}

/************************************************************************/
/*  END OF FILE																													*/
/************************************************************************/